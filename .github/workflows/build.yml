name: Run tests
on: [push, pull_request]
jobs:
  build:
    runs-on: windows-2019

    steps:
      - name: "install choosenim"
        run: curl -OL https://github.com/dom96/choosenim/releases/download/v0.6.0/choosenim-0.6.0_windows_amd64_debug.exe

      - name: "install nim"
        run: .\choosenim-0.6.0_windows_amd64_debug.exe -y devel

      - name: "setup nim path"
        run: echo "::add-path::C:\Users\runneradmin\.nimble\bin"

      - name: "show nim version"
        run: nim -v

      - name: "nimble test"
        run: nimble test
